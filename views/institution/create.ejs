<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0">
                    <i class="bi bi-plus-circle me-2"></i>Create New Institution
                </h5>
            </div>
            <div class="card-body">
                <% if (typeof error !== 'undefined' && error) { %>
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <i class="bi bi-exclamation-triangle me-2"></i><%= error %>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                <% } %>

                <div class="alert alert-info mb-4">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Note:</strong> Creating a new institution requires approval from a system administrator.
                    You will be assigned as the administrator of the institution once approved.
                </div>

                <form action="/institution-request/create" method="POST">
                    <h6 class="mb-3">Institution Details</h6>

                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="institutionName" name="institutionName"
                               placeholder="Institution Name" required minlength="3" maxlength="21">
                        <label for="institutionName">Institution Name <span class="text-danger">*</span></label>
                        <div class="form-text">Maximum 21 characters (eEHIC schema requirement)</div>
                    </div>

                    <div class="form-floating mb-3">
                        <select class="form-select" id="institutionCountry" name="institutionCountry" required>
                            <option value="">Select country</option>
                            <option value="AT">Austria</option>
                            <option value="BE">Belgium</option>
                            <option value="BG">Bulgaria</option>
                            <option value="HR">Croatia</option>
                            <option value="CY">Cyprus</option>
                            <option value="CZ">Czech Republic</option>
                            <option value="DK">Denmark</option>
                            <option value="EE">Estonia</option>
                            <option value="FI">Finland</option>
                            <option value="FR">France</option>
                            <option value="DE">Germany</option>
                            <option value="GR">Greece</option>
                            <option value="HU">Hungary</option>
                            <option value="IE">Ireland</option>
                            <option value="IT">Italy</option>
                            <option value="LV">Latvia</option>
                            <option value="LT">Lithuania</option>
                            <option value="LU">Luxembourg</option>
                            <option value="MT">Malta</option>
                            <option value="NL">Netherlands</option>
                            <option value="PL">Poland</option>
                            <option value="PT">Portugal</option>
                            <option value="RO">Romania</option>
                            <option value="SK">Slovakia</option>
                            <option value="SI">Slovenia</option>
                            <option value="ES">Spain</option>
                            <option value="SE">Sweden</option>
                            <option value="IS">Iceland</option>
                            <option value="LI">Liechtenstein</option>
                            <option value="NO">Norway</option>
                            <option value="CH">Switzerland</option>
                            <option value="UK">United Kingdom</option>
                        </select>
                        <label for="institutionCountry">Country <span class="text-danger">*</span></label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="institutionAddress" name="institutionAddress"
                               placeholder="Address" maxlength="200">
                        <label for="institutionAddress">Address (Optional)</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="institutionContact" name="institutionContact"
                               placeholder="Contact Information" maxlength="100">
                        <label for="institutionContact">Contact Information (Optional)</label>
                    </div>

                    <div class="mb-3">
                        <label for="justification" class="form-label">
                            Justification <span class="text-danger">*</span>
                        </label>
                        <textarea class="form-control" id="justification" name="justification" rows="5"
                                  required minlength="20" maxlength="500"
                                  placeholder="Please explain why you need to create this institution and provide any relevant background information..."></textarea>
                        <small class="form-text text-muted">
                            Between 20 and 500 characters
                        </small>
                    </div>

                    <div class="alert alert-warning">
                        <small>
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            <strong>System Administrator Review:</strong>
                            Upon approval, the system administrator will assign an Institution ID (4-10 digits) to your institution.
                            You will be notified once your request is processed.
                        </small>
                    </div>

                    <div class="d-flex justify-content-between">
                        <a href="/institution-request/choose" class="btn btn-outline-secondary">
                            <i class="bi bi-arrow-left me-2"></i>Back
                        </a>
                        <button type="submit" class="btn btn-success">
                            <i class="bi bi-send me-2"></i>Submit Request
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
